<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Meeting</title>

    <!-- Bootstrap core CSS -->
    <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Slab:100,300,400,600,700,100italic,300italic,400italic,600italic,700italic" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="/css/business-casual.css" rel="stylesheet">
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/vendor/popper/popper.min.js"></script>
    <script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/jq-3.2.1/jq-3.2.1/dt-1.10.16/datatables.min.css"/>
	<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jq-3.2.1/jq-3.2.1/dt-1.10.16/datatables.min.js"></script>
  </head>

  <body>

    <div class="tagline-upper text-center text-heading text-shadow text-white mt-5 d-none d-lg-block">Meeting System</div>

    <!-- Navigation -->
    <div th:replace = "menu"></div>

    <div class="container">

      <div class="bg-faded p-4 my-4">
        <hr class="divider">
        <h2 class="text-center text-lg text-uppercase my-0">
          <strong>Meeting</strong>
        </h2>
        <hr class="divider">
        <div class="row">
          <div class="col-lg-12">
          <p>
          <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#myModal">New</button>
          <button type="button" class="btn btn-warm btn-sm" data-toggle="modal" data-target="#myModal">Selected Update</button>
          <button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#myModal">Selected Delete</button>
          
          <div id="myModal" class="modal fade" role="dialog">
			  <div class="modal-dialog">
			    <!-- Modal content-->
			    <div class="modal-content">
			      <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal">&times;</button>
			        <h4 class="modal-title">Ekle</h4>
			      </div>
			      <div class="modal-body">
			       	<form>
			          <div class="row">
			            <div class="form-group col-lg-4">
			              <label class="text-heading">Name</label>
			              <input type="text" name="name" class="form-control">
			            </div>
			            <div class="clearfix"></div>
			            <div class="form-group col-lg-12">
			              <label class="text-heading">Description</label>
			              <textarea class="form-control" rows="6"></textarea>
			            </div>
			            <div class="form-group col-lg-12">
			              <button id="save" type="submit" class="btn btn-secondary">Submit</button>
			            </div>
			          </div>
			        </form>
			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			      </div>
			    </div>
			
			  </div>
		  </div>
		  </p>
		  <p>
	          <table id="example">
		        <thead>
		            <tr>
		                <th>Name</th>
		                <th>Description</th>
		            </tr>
		        </thead>
		    </table>
          </p>
          <script type="text/javascript">
	          $(document).ready(function() {
	  		    var table = $('#example').DataTable( {
	  		        "ajax": {
	  		            "url": "/department/getAll",
	  		            "dataSrc":""
	  		        },
	  		    	
	  		        "columns": [ 
	  		          { "data": "name" },
	  		          { "data": "description" },
	  		        ]
	  		    });
	  		});
          
          </script>
          
	     <script type="text/javascript">
	        $(document).ready(function(){
	            $("#save").click(function(){
	            	var myData = $("#myForm").serialize();
	                $.ajax({
		                	url: "department/save", 
		                	data : myData,
		                	success: function(result){
		                		alert(result);
		                	},
		                	error : function(error){
		                		alert(error);
		                	}
	               	});
	            });
	        });
	    </script>
  
          
          </div>
        </div>
      </div>

    </div>
    <!-- /.container -->

    <footer class="bg-faded text-center py-5">
      <div class="container">
        <p class="m-0">Copyright &copy; Your Website 2017</p>
      </div>
    </footer>

  </body>

</html>
